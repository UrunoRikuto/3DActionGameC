/*
* @file GameObject.h
* @brief ゲームオブジェクトの基底クラスのhファイル
* @author 宇留野陸斗
* @date 2025/08/04 クラスの作成
*                  モデルのポインタ
*                  位置情報
*                  スケール情報
*                  回転情報の追加
*            08/05 当たり判定情報
*/
#pragma once

/* システム・要素のインクルード */
#include <memory>
#include "StructMath.h"
#include "Collision.h"

/* 前方宣言 */
class Model;

/// <summary>
/// ゲームオブジェクトの基底クラス
/// </summary>
class CGameObject
{
public:
	/// <summary>
	/// コンストラクタ
	/// </summary>
	CGameObject();
	
	/// <summary>
	/// デストラクタ
	/// </summary>
	virtual ~CGameObject();

	/// <summary>
	/// 更新処理
	/// </summary>
	virtual void Update();

	/// <summary>
	/// 描画処理
	/// </summary>
	virtual void Draw();

protected:
	/// <summary>
	/// モデルのポインタ
	/// </summary>
	std::unique_ptr<Model> m_pModel;

	/// <summary>
	/// 当たり判定情報
	/// </summary>
	std::vector<Collision::Info> m_tCollisionInfos;

	/// <summary>
	/// 位置情報
	///	</summary>
	XMFLOAT3 m_tPosition;

	/// <summary>
	/// Y軸の調整位置
	/// </summary>
	float m_fAjustPositionY;

	/// <summary>
	/// 大きさ情報
	/// </summary>
	XMFLOAT3 m_tScale;

	/// <summary>
	/// 回転情報
	/// </summary>
	XMFLOAT3 m_tRotation;

public: // メンバ変数のアクセサ

	/// <summary>
	/// 当たり判定の取得
	/// </summary>
	/// <param name="InTag">当たり判定のタグ</param>
	/// <returns>当たり判定情報</returns>
	Collision::Info GetCollisionInfo(Collision::Tag InTag);

	/// <summary>
	/// 位置情報の取得
	/// </summary>
	/// <returns>位置情報</returns>
	const XMFLOAT3& GetPosition() const { return m_tPosition; }

	/// <summary>
	/// スケール情報の取得
	/// </summary>
	/// <returns>スケール情報</returns>
	const XMFLOAT3& GetScale() const { return m_tScale; }

	/// <summary>
	/// 回転情報の取得
	/// </summary>
	/// <returns>回転情報</returns>
	const XMFLOAT3& GetRotation() const { return m_tRotation; }

};

